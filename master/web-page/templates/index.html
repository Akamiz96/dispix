<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<title>DisPix</title>
		<link
			href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
			rel="stylesheet" />
		<link
			href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap"
			rel="stylesheet" />
		<link
			rel="stylesheet"
			href="{{ url_for('static', filename='style.css') }}" />
		<link
			rel="icon"
			type="image/x-icon"
			href="{{ url_for('static', filename='favicon.ico') }}" />
	</head>
	<body>
		<header class="header">
			<img
				src="{{ url_for('static', filename='logo.png') }}"
				alt="Logo DisPix"
				class="logo" />
			<p class="subtitle">A Distributed System for Parallel Image Filtering</p>
			<a
				href="https://github.com/Akamiz96/dispix"
				class="github-link"
				target="_blank">
				ðŸ”— View on GitHub
			</a>
		</header>

		<!-- Pantalla 1: Carga de imagen -->
		<div id="screen-upload" class="screen active">
			<h2>Cargar Imagen</h2>
			<form id="upload-form">
				<div class="form-row">
					<div class="form-group">
						<label for="image-input">Selecciona una imagen:</label>
						<input type="file" id="image-input" accept="image/*" required />
					</div>
					<div class="form-group">
						<label for="filter-select">Filtro:</label>
						<select id="filter-select">
							<option value="negative">Negativo</option>
							<option value="blur">Desenfoque</option>
							<option value="pixelate">Pixelar</option>
						</select>
					</div>
				</div>
				<div class="form-button">
					<button type="submit">Procesar</button>
				</div>
			</form>
		</div>

		<!-- Pantalla 2: Espera / Progreso -->
		<div id="screen-progress" class="screen">
			<h2>Procesando imagen...</h2>
			<p>Bloques enviados al pub-sub:</p>
			<div class="progress-bar">
				<div id="progress-sent" class="progress-bar-fill">0%</div>
			</div>

			<p>Bloques recibidos de los workers:</p>
			<div class="progress-bar">
				<div id="progress-received" class="progress-bar-fill">0%</div>
			</div>
		</div>

		<!-- Pantalla 3: Resultado final -->
		<div id="screen-result" class="screen">
			<div class="container container-result">
				<div class="image-row">
					<div class="image-box">
						<h4>Original</h4>
						<img id="original-image" src="#" alt="Original" />
					</div>
					<div class="image-box">
						<h4>Procesada</h4>
						<img id="processed-image" src="#" alt="Procesada" />
					</div>
				</div>

				<div class="form-button">
					<button onclick="goToUpload()">Nueva tarea</button>
				</div>
			</div>
		</div>

		<script src="/static/script.js"></script>
	</body>
</html>
